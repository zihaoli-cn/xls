apt update
apt install git
git clone https://github.com/zihaoli-cn/xls.git
apt-get install -y curl gnupg && curl -fsSL https://bazel.build/bazel-release.pub.gpg | gpg --dearmor > bazel.gpg && mv bazel.gpg /etc/apt/trusted.gpg.d/ && echo "deb [arch=amd64] https://storage.googleapis.com/bazel-apt stable jdk1.8" | tee /etc/apt/sources.list.d/bazel.list && apt-get update -y && apt-get install -y bazel
apt-get -y install python3-distutils python3-dev python-is-python3 libtinfo5 vim git

cd xls/
git fetch origin experiment:experiment
git checkout experiment

apt install bazel-4.0.0
bazel-4.0.0 build //xls/p5/tools:hw_trans_benchmark_main
./bazel-bin/xls/p5/tools/hw_trans_benchmark_main --benchmark_dir=xls/p5/data/benchmark